//五图广告数据
//链接如果没有就留空字符串
//宽：202px，高：202px
var adsGroup = [{
	id: 1,
	link: 'http://www.93moli.net/',
	title: '就上魔力6.0新区QQ群：109287963',
	pic: 'images/ads/gz1.jpg'
},
{
	id: 2,
	link: 'http://ccc.171ml.com/',
	title: '3.7经典怀旧网星魔力QQ群：8803918',
	pic: 'images/ads/GZ2.jpg'
},
{
	id: 3,
	link: '//jq.qq.com/?_wv=1027&k=SQYw1oAl',
	title: '857魔力3.7新区人气火爆Q群1016921552',
	pic: 'images/ads/gz3.jpg'
},
{
	id: 4,
	link: '//jq.qq.com/?_wv=1027&k=SQYw1oAl',
	title: '857魔力3.7新区人气火爆Q群1016921552',
	pic: 'images/ads/GZ4.jpg'
},
{
	id: 5,
	link: 'http://www.93moli.net/',
	title: '就上魔力3.7新区QQ群：1415432',
	pic: 'images/ads/gz5.jpg'
},
{
	id: 6,
	link: 'http://bk2.360moli.cn/',
	title: '360魔力q群：644453367',
	pic: 'images/ads/GZ6.jpg'
},
{
	id: 7,
	link: 'http://bk2.360moli.cn/',
	title: '360魔力q群：644453367',
	pic: 'images/ads/gz7.jpg'
},
{
	id: 8,
	link: 'http://www.yyml.online/',
	title: 'YY魔力人气火爆长久稳定',
	pic: 'images/ads/GZ8.jpg'
},
{
	id: 9,
	link: 'http://bk2.360moli.cn/',
	title: '360魔力q群：644453367',
	pic: 'images/ads/GZ9.jpg'
},
{
	id: 10,
	link: 'http://52.ddmoli.top',
	title: '蛋蛋魔力3.7公益养老服QQ群:634152027',
	pic: 'images/ads/GZ10.jpg'
},
{
	id: 11,
	link: 'https://jq.qq.com/?_wv=1027&k=vEgLtMkt',
	title: '花雨魔力【独家平衡佣兵服】↓↓↓点击Q群下游戏↓↓↓',
	pic: 'images/ads/GZ11.jpg'
},
{
	id: 12,
	link: 'https://jq.qq.com/?_wv=1027&k=JuapNw4g',
	title: '晓雪魔力3.7怀旧新服Q群651716787',
	pic: 'images/ads/GZ12.jpg'
},
{
	id: 13,
	link: 'http://www.yyml.online/',
	title: '2022年4月10日盛大开服！',
	pic: 'images/ads/GZ13.jpg'
},
{
	id: 14,
	link: 'https://jq.qq.com/?_wv=1027&k=8mBZo7Km',
	title: '一起玩魔力3.7怀旧手游群：793039857',
	pic: 'images/ads/GZ14.jpg'
},
{
	id: 15,
	link: 'https://jq.qq.com/?_wv=1027&k=G1Zujk6Y',
	title: '【月見魔力】港台服懷舊火爆人气新技能職業',
	pic: 'images/ads/gz15.jpg'
},
{
	id: 16,
	link: 'http://www.huainianml.com/forum.php?mod=viewthread&tid=28',
	title: '【怀念魔力】新区Q群:336157834每周PK赛',
	pic: 'images/ads/GZ16.jpg'
},
{
	id: 17,
	link: 'https://jq.qq.com/?_wv=1027&k=0AQtaPfS',
	title: '十年老服创意怀旧3.0新区新手进服送商城9999点',
	pic: 'images/ads/GZ17.jpg'
},
{
	id: 18,
	link: 'https://jq.qq.com/?_wv=1027&k=0AQtaPfS',
	title: '十年老服创意怀旧3.0新区新手进服送商城9999点',
	pic: 'images/ads/gz18.jpg'
},
{
	id: 19,
	link: 'https://jq.qq.com/?_wv=1027&k=0AQtaPfS',
	title: '十年老服创意怀旧3.0新区新手进服送商城9999点',
	pic: 'images/ads/GZ19.jpg'
},
{
	id: 20,
	link: 'https://jq.qq.com/?_wv=1027&k=0AQtaPfS',
	title: '十年老服创意怀旧3.0新区新手进服送商城9999点',
	pic: 'images/ads/GZ20.jpg'
},
{
	id: 21,
	link: 'https://jq.qq.com/?_wv=1027&k=I9TTQFtn',
	title: '开心魔力7月8日测试群号：663959530',
	pic: 'images/ads/gz21.jpg'
},
{
	id: 22,
	link: 'https://jq.qq.com/?_wv=1027&k=I9TTQFtn',
	title: '开心魔力独家定制功能不氪金人气保证',
	pic: 'images/ads/GZ22.jpg'
},
{
	id: 23,
	link: 'https://jq.qq.com/?_wv=1027&k=xBtSfIzZ',
	title: '童年魔力3.7怀旧公益养老服Q群972061591',
	pic: 'images/ads/GZ23.jpg'
},
{
	id: 24,
	link: 'http://www.22moli.com',
	title: '艾尔魔力3.7怀旧新服QQ群：766938600',
	pic: 'images/ads/gz24.jpg'
},
{
	id: 25,
	link: 'http://www.22moli.com',
	title: '艾尔魔力3.7怀旧新服QQ群：766938600',
	pic: 'images/ads/gz25.jpg'
},
{
	id: 26,
	link: 'https://jq.qq.com/?_wv=1027&k=Txk7VmFA',
	title: '天界魔力3.7养老长久稳定版Q群662360673',
	pic: 'images/ads/GZ26.jpg'
},
{
	id: 27,
	link: 'https://jq.qq.com/?_wv=1027&k=3NgNK4KM',
	title: '【轩驿魔力】长久特色任务多重挑战微变耐玩',
	pic: 'images/ads/gz27.jpg'
},
{
	id: 28,
	link: 'https://jq.qq.com/?_wv=1027&k=xBtSfIzZ',
	title: '自动战斗免费坐骑官网molimoli.club',
	pic: 'images/ads/GZ28.jpg'
},
{
	id: 29,
	link: 'https://jq.qq.com/?_wv=1027&k=gk4kVLpv',
	title: '【回忆魔力】自由交易免费担保每周PK等你来',
	pic: 'images/ads/gz29.jpg'
},
{
	id: 30,
	link: 'https://jq.qq.com/?_wv=1027&k=gk4kVLpv',
	title: '【回忆魔力】自由交易免费担保每周PK等你来',
	pic: 'images/ads/gz29.jpg'
},
{
	id: 31,
	link: 'https://wpa.qq.com/msgrd?v=3&uin=183204816&site=qq&menu=yes',
	title: '广告位招租QQ183204816',
	pic: 'images/ads/gzZZ.jpg'
},
{
	id: 32,
	link: 'Page/Detail/ba563819-8462-4c5c-aca0-0ecda638ddb1',
	title: '【伊人】百科攻略组专业带就职各种任务',
	pic: 'images/ads/gz32.jpg'
},
{
	id: 33,
	link: 'http://www.moli158.com',
	title: '回忆魔力3.7PK大赛进行中Q群790723232',
	pic: 'images/ads/GZ33.jpg'
},
{
	id: 34,
	link: 'http://www.803ml.com',
	title: '803魔力7月22日新区纯公益无充值',
	pic: 'images/ads/GZ34.jpg'
},
{
	id: 35,
	link: 'http://pay.aqiupay.com/',
	title: '阿丘支付，开服必备！',
	pic: 'images/ads/GZ35.jpg'
}]
/*
* banner广告
* id按顺序
* 链接如果没有就留空
*　有多少条就会添加多少个轮播图
* 宽：726px，高：291px
*/
var bannerAds = [
	{
		id: 1,
		pic: 'images/ads/hdp1.jpg',
		link: '/www.hyml1.com'

	},
	{
		id: 2,
		pic: 'images/ads/hdp2.jpg',
		link: '/ccc.171ml.com/'
	},
	{
		id: 3,
		pic: 'images/ads/hdp3.jpg',
		link: '/www.9yuanmoli.com'
	},
	{
		id: 4,
		pic: 'images/ads/hdp4.jpg',
		link: '/www.moli158.com'
	},
	{
		id: 5,
		pic: 'images/ads/hdp5.jpg',
		link: '/www.22moli.com'

	},
	{
		id: 6,
		pic: 'images/ads/hdp6.jpg',
		link: '/www.857moli.com/1moli'

	}
	// ,
	// {
	// 	id: 7,
	// 	pic: 'images/ads/h7.jpg',
	// 	link: '//jq.qq.com/?_wv=1027&k=n6mKhglH'
	// }
]
// 生成随机数，min<=number<=max
var Random = function (min, max) {
	return Math.round(Math.random() * (max - min)) + min
}
/**
 * 底部广告
 * 有多少个显示多少个，一行4个，最好是4的倍数
 * 宽：258.5，高：76
 */
var footerAds = [{
	id: 0,
	placeholder: '虚位以待，广告联系QQ:183204816',
	pic: '',
	link: ''
}, {
	id: 1,
	placeholder: '虚位以待，广告联系QQ:183204816',
	pic: '',
	link: ''
}, {
	id: 2,
	placeholder: '虚位以待，广告联系QQ:183204816',
	pic: '',
	link: ''
}, {
	id: 3,
	placeholder: '虚位以待，广告联系QQ:183204816',
	pic: '',
	link: ''
}]
/**
 * 公告栏广告，350x160
 */
var noticeAds = [
	{
		id: 1,
		pic: 'images/ads/ggl1.jpg',
		link: 'ccc.171ml.com',
		// placeholder: '广告位 350x160<br />咨询QQ：183204816'
	},
	{
		id: 2,
		pic: 'images/ads/ggl2.jpg',
		link: '//jq.qq.com/?_wv=1027&k=SQYw1oAl',
		// placeholder: '广告位 350x160<br />咨询QQ：183204816'
	},
	{
		id: 3,
		pic: 'images/ads/GG3.jpg',
		link: 'www.yyml.online',
		// placeholder: '广告位 350x160<br />咨询QQ：183204816'
	}]

/**
 * 显示广告方法
 */
var adsFun = function () {
	var _box = $('#index-ads-grid')

	var _len = 26

	$.each(adsGroup, function (index, item, arr) {
		var $link = !item.link ? 'javascript:void(0)' : item.link,
			$img = !item.pic ? '../images/ads/ads_gird_placeholder.jpg' : item.pic,
			$title = item.title.length > _len ? item.title.substring(0, _len) + '...' : item.title
		var $html = '<div class="item"><a href="' + $link + '" class="card item-link" target="_blank"title="' + item.title + '"><div class="p-2 ads-index-item-title" style="height:60px;overflow:hidden;line-height:1.3;">' + $title + '</div><div class="ads-index-item-img"><img class="card-img-bottom " src="' + $img + '" alt="" style="width:100%;"></div></a></div>'
		_box.append($html)
	})
}

/**
 * banner添加
 */
var firstLinksOptions = {
	first: {
		url: '',
		left: '357px',
		bottom: '63px',
		width: '161px',
		height: '43px',
	},
	second: {
		url: '',
		left: '357px',
		bottom: '14px',
		width: '161px',
		height: '43px',
	}
}
var secondLinksOptions = {
	first: {
		url: '',
		left: '187px',
		bottom: '125px',
		width: '345px',
		height: '50px',
	},
	second: {
		url: '',
		left: '187px',
		bottom: '65px',
		width: '345px',
		height: '50px',
	}
}
var bannerFun = function (arr) {
	let new_arr = arr || bannerAds
	var _banner_wrap = $('#mainSlide')
	var _banner_wrap_id = _banner_wrap.attr('id')
	var _item = _banner_wrap.children('.carousel-inner')
	var _nav = _banner_wrap.children('.carousel-indicators')
	for (var i = 0; i < new_arr.length; i++) {
		var is_first = i == 0 ? 'active' : ''
		var _nav_item = '<li data-target="#' + _banner_wrap_id + '" data-slide-to="' + i + ' class=' + is_first + '"></li>'
		_nav.append(_nav_item)

		var _item_link = !new_arr[i].link ? 'javascript:void(0);' : '//' + new_arr[i].link
		var _item_html = '<a href="' + _item_link + '" class="carousel-item ' + is_first + '" target="_blank"><img class="d-block img-fluid" src="' + new_arr[i].pic + '" alt="' + new_arr[i].title + '" /></a>'

		_item.append(_item_html)
	}
	setTimeout(function () {

		bannerTwoLinks(_item.children('a')[1], firstLinksOptions)
		bannerTwoLinks(_item.children('a')[3], secondLinksOptions)
	}, 0)

}

// banner，第一张上加链接
//视频图，345*50，
var bannerTwoLinks = function (item, options) {
	var bannerItem = $(item)
	var url_first = options.first.url,
		url_second = options.second.url
	var html = '<a href="' + url_first + '" target="_blank" class="first-link"></a><a href="' + url_second + '" target="_blank" class="second-link"></a>'
	bannerItem.append(html)
	var firstLink = bannerItem.children('.first-link'),
		secondLink = bannerItem.children('.second-link')
	firstLink.css({
		position: 'absolute',
		left: options.first.left,
		bottom: options.first.bottom,
		'z-index': 1,
		display: 'block',
		width: options.first.width,
		height: options.first.height,

	})
	secondLink.css({
		position: 'absolute',
		left: options.second.left,
		bottom: options.second.bottom,
		'z-index': 1,
		display: 'block',
		width: options.second.width,
		height: options.second.height,
	})
}

/**
 * 页脚格子广告
 */
var footerAdsFun = function () {
	var ele = $('#ads-footer')
	for (var i = 0; i < footerAds.length; i++) {
		var _item_link = !footerAds[i].link ? 'javascript:void(0);' : '//' + footerAds[i].link
		var _img = !footerAds[i].pic ? '' : '<img src="' + footerAds[i].pic + '" alt="' + footerAds[i].title + '" />'
		var _html = '<div class="col-3"><a href="' + _item_link + '" class="item">' + _img + '<div class="item-text">' + footerAds[i].placeholder + '</div></a></div>'
		ele.append(_html)
	}
}
/**
 * 公告栏广告
 */
var noticeAdsFun = function () {
	var ele = $('#ads-index-notice'),
		img = ele.children('img')
	var html = ''
	$.each(noticeAds, function (index, item, arr) {
		var pic = item.pic ? item.pic : item.placeholder
		var _html = '<a href="//' + item.link + '" target="_blank" class="d-block mb-2"><img src="' + item.pic + '" alt=""  class="d-block"/></a>'
		html += _html
	})
	ele.html(html)

}
// 全屏广告
var fullScreenAds = function () {
	// 如果存在is_clear，证明已经清除过缓存
	if (!window.localStorage.getItem('close_full_20220802')) {
		var url = 'https://jq.qq.com/?_wv=1027&k=sRAJEV8Q'
		var src = 'images/ads/mxml.jpg'
		var html = '<div id="full-screen-ads" style="position:fixed;left:0;top:0;z-index:999;" class="d-flex full-height full-width align-items-center justify-content-center"><a href="javascript:void(0);"  class="d-block full-width full-height pos-a" style="left:0;top:0;z-index:0;background-color:rgba(0,0,0,.5);"></a><a href="' + url + '" ' + (url && url !== 'javascript:;' ? 'target="_blank"' : '') + ' class="d-block pos-r p-1" style="z-index:1;"><img src="' + src + '" class="d-block" alt=""  style="height:291px"/></a></div>'
		$(document.body).append(html)
		setTimeout(function () {
			$(document).on('click', '#full-screen-ads', function (e) {
				$('#full-screen-ads').remove()
				window.localStorage.setItem('close_full_20220802', 'true')
			})
		}, 100)
	}
}
$(function () {
	adsFun()//显示的字多少，就改这个数字,实测25可以，

	var random_bannerAds = []

	function setRandomBanner(arr = []) {
		if (bannerAds.length) {
			let index = Random(0, bannerAds.length - 1)
			let item = JSON.parse(JSON.stringify(bannerAds[index]))
			arr.push(item)
			bannerAds.splice(index, 1)
			setRandomBanner(arr)
		} else {
			bannerFun(arr)
		}
	}

	setRandomBanner()

	fullScreenAds()
	//footerAdsFun()
	noticeAdsFun()
})
