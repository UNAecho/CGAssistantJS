function navbarScroll(){var n=$(window).scrollTop(),t=$("#headerPic").height()-200;setTimeout(function(){n>t?($("#mainNavbar").addClass("main-navbar-fixed"),$("#subContainer").addClass("container")):(console.log(n),console.log(t),$("#mainNavbar").removeClass("main-navbar-fixed"),$("#subContainer").removeClass("container"))});$(document).scroll(function(){hideSearchBar();n=$(window).scrollTop();n>t?($("#mainNavbar").addClass("main-navbar-fixed"),$("#subContainer").addClass("container")):($("#mainNavbar").removeClass("main-navbar-fixed"),$("#subContainer").removeClass("container"))})}function quickEntry(){var n=$('[data-toggletype="toggle-side"]');n.click(function(){var n=$($(this).attr("data-togglebox"));n.toggleClass("active")})}function dataSearch(){function r(t){$.each(n,function(i){n.eq(i).attr("data-search").indexOf(t)!=-1&&n.eq(i).removeClass("hide")})}var u=$(".txt-search"),n=$("[data-search]"),t=$("#searchStatus"),i=$("[data-filter-btn]");u.bind("input propertychange",function(){var i=$.trim($(this).val());i.length>0?(t.html('<a href="javascript:void(0);"id="btnShowAll" class="pull-right btn btn-sm btn-danger" title="显示所有"><span class="glyphicon glyphicon-remove"><\/span> 显示所有<\/a> 您搜索“<span class="fc-red">'+i+"<\/span>”的结果如下：").show(),showAll(),n.addClass("hide"),r(i)):(t.hide(),n.removeClass("hide"))});i.click(function(){var u=$(this).attr("data-filter-btn");t.html('<a href="javascript:void(0);"id="btnShowAll" class="pull-right btn btn-sm btn-danger" title="显示所有"><span class="glyphicon glyphicon-remove"><\/span> 显示所有<\/a> 您搜索“<span class="fc-red">'+u+"<\/span>”的结果如下：").show();n.addClass("hide");r(u);i.removeClass("active");$(this).addClass("active")})}function txtCount(n,t,i,r){$(n).on("input propertychange",function(){var n=$(t),u=$(i),f=$(r),e=$(this).val().length;n.text(e);e>500?(n.css({color:"red"}),u.attr("disabled","disabled"),f.show()):(n.css({color:"#333"}),u.removeAttr("disabled"),f.hide())})}function openEnvelope(){var n=$(".envelope-box");n.hasClass("active")||(n.fadeIn(200),n.addClass("active"),setTimeout(function(){n.css({display:"flex"})},0));n.on("click",function(){n.fadeOut(200).removeClass("active")})}function createInNav(){layer.open({type:1,skin:"create-nav",area:["auto","auto"],content:'<div class="create-nav-cate"><div class="row justify-content-center"><div class="col-3"><a href="/Article/Create" class="item">文章攻略<\/a><\/div><\/div><\/div><hr /><div class="create-nav-cate"><div class="row"><div class="col-3"><a href="/Mission/Create" class="item">任务<\/a><\/div><div class="col-3"><a href="/Role/Create" class="item">角色<\/a><\/div><div class="col-3"><a href="/Map/Create" class="item">地图<\/a><\/div><div class="col-3"><a href="/Monster/Create" class="item">魔物<\/a><\/div><div class="col-3"><a href="/Profession/Create" class="item">职业<\/a><\/div><div class="col-3"><a href="/Npc/Create" class="item">NPC<\/a><\/div><div class="col-3"><a href="/Item/Create" class="item">物品装备<\/a><\/div><div class="col-3"><a href="/Skill/Create" class="item">人物技能<\/a><\/div><div class="col-3"><a href="/MonsterSkill/Create" class="item">魔物技能<\/a><\/div><\/div><\/div>',shadeClose:!0,title:!1})}function hideSearchBar(){var n=$("#navSearchBar"),t=$("#searchInput");n.hasClass("active")&&(n.slideUp(200).removeClass("active"),t.val(null))}function toggleSearchBar(){var n=$("#navSearchBar"),t=$("#searchInput");n.hasClass("active")?(n.slideUp(200).removeClass("active"),t.val(null)):n.slideDown(200).addClass("active")}$(function(){navbarScroll();quickEntry()});$(function(){var t,n;$(window).innerHeight()-$(".footer").outerHeight()>$("body").height()&&(t=$(window).innerHeight()-$("body").height(),$("div.control").css({"min-height":$("div.control").outerHeight()+t+"px"}),$(".footer").css({position:"fixed",bottom:"0",left:"0",right:"0"}));n=!1;$(document).scroll(function(){n||($("div.control").css({"min-height":"auto"}),$(".footer").css({position:"static",bottom:"auto",left:"auto",right:"auto"}),n=!0)})});